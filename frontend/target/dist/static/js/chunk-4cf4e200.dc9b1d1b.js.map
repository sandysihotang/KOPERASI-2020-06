{"version":3,"sources":["webpack:///./src/components/AuthenticatedUser/Diskoperindag/Layout/Layout/IsiLaporan.vue?5996","webpack:///./src/components/AuthenticatedUser/Diskoperindag/Layout/LaporanTahunan.vue?0f36","webpack:///./src/components/AuthenticatedUser/Diskoperindag/Layout/Layout/IsiLaporan.vue?1f03","webpack:///src/components/AuthenticatedUser/Diskoperindag/Layout/Layout/IsiLaporan.vue","webpack:///./src/components/AuthenticatedUser/Diskoperindag/Layout/Layout/IsiLaporan.vue?6835","webpack:///./src/components/AuthenticatedUser/Diskoperindag/Layout/Layout/IsiLaporan.vue","webpack:///src/components/AuthenticatedUser/Diskoperindag/Layout/LaporanTahunan.vue","webpack:///./src/components/AuthenticatedUser/Diskoperindag/Layout/LaporanTahunan.vue?ae84","webpack:///./src/components/AuthenticatedUser/Diskoperindag/Layout/LaporanTahunan.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","$q","screen","lt","md","data","columns","filter","selected","on","$event","scopedSlots","_u","key","fn","length","lihatLaporan","status","pes","changes","download","proxy","model","value","callback","$$v","expression","change","_v","options","directives","name","rawName","ubahStatus","staticStyle","text","kirimPesan","staticRenderFns","_l","htm","domProps","_s","component"],"mappings":"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","file":"static/js/chunk-4cf4e200.dc9b1d1b.js","sourcesContent":["import mod from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IsiLaporan.vue?vue&type=style&index=0&id=74214a56&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IsiLaporan.vue?vue&type=style&index=0&id=74214a56&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"q-pa-md\"},[_c('q-table',{attrs:{\"dense\":_vm.$q.screen.lt.md,\"title\":\"Laporan Keuangan\",\"data\":_vm.data,\"columns\":_vm.columns,\"filter\":_vm.filter,\"row-key\":\"id\",\"selection\":\"single\",\"selected\":_vm.selected},on:{\"update:selected\":function($event){_vm.selected=$event}},scopedSlots:_vm._u([{key:\"top-right\",fn:function(){return [_c('q-btn',{attrs:{\"color\":\"primary\",\"icon\":\"fa fa-eye\",\"disable\":_vm.selected.length === 0,\"size\":\"xs\",\"label\":\"Lihat Laporan\"},on:{\"click\":function($event){_vm.lihatLaporan = true}}}),_c('q-btn',{attrs:{\"color\":\"primary\",\"icon\":\"send\",\"disable\":_vm.selected.length === 0 || _vm.selected[0].status === 3,\"size\":\"xs\",\"label\":\"Kirim Pesan\"},on:{\"click\":function($event){_vm.pes = true}}}),_c('q-btn',{attrs:{\"color\":\"primary\",\"icon\":\"edit\",\"disable\":_vm.selected.length === 0 || _vm.selected[0].status === 3,\"size\":\"xs\",\"label\":\"Change Status\"},on:{\"click\":_vm.changes}}),_c('q-btn',{attrs:{\"color\":\"primary\",\"icon\":\"fa fa-download\",\"disable\":_vm.selected.length === 0,\"size\":\"xs\",\"label\":\"Download Laporan\"},on:{\"click\":_vm.download}}),_c('q-input',{attrs:{\"borderless\":\"\",\"dense\":\"\",\"debounce\":\"300\",\"placeholder\":\"Search\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"search\"}})]},proxy:true}]),model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}})]},proxy:true}])}),_c('q-dialog',{attrs:{\"full-width\":\"\",\"full-height\":\"\",\"persistent\":\"\",\"transition-show\":\"scale\",\"transition-hide\":\"scale\"},model:{value:(_vm.lihatLaporan),callback:function ($$v) {_vm.lihatLaporan=$$v},expression:\"lihatLaporan\"}},[_c('isi-laporan',{attrs:{\"ss\":_vm.selected}})],1),_c('q-dialog',{attrs:{\"persistent\":\"\",\"transition-show\":\"scale\",\"transition-hide\":\"scale\"},model:{value:(_vm.change),callback:function ($$v) {_vm.change=$$v},expression:\"change\"}},[_c('q-card',[_c('q-card-section',[_c('div',{staticClass:\"text-h6\"},[_vm._v(\" Ubah Status Laporan\")])]),_c('q-separator'),_c('q-card-section',[_c('q-select',{attrs:{\"outlined\":\"\",\"options\":_vm.options,\"dense\":true,\"label\":\"Tahun\",\"options-dense\":false},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"event\"}})]},proxy:true}]),model:{value:(_vm.status),callback:function ($$v) {_vm.status=$$v},expression:\"status\"}})],1),_c('q-card-section',[_c('center',[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"color\":\"red\",\"label\":\"Close\"}}),_vm._v(\" \"),_c('q-btn',{attrs:{\"color\":\"primary\",\"label\":\"Ubah Status\"},on:{\"click\":_vm.ubahStatus}})],1)],1)],1)],1),_c('q-dialog',{attrs:{\"persistent\":\"\",\"transition-show\":\"scale\",\"transition-hide\":\"scale\"},model:{value:(_vm.pes),callback:function ($$v) {_vm.pes=$$v},expression:\"pes\"}},[_c('q-card',[_c('q-card-section',[_c('div',{staticClass:\"text-h6\"},[_vm._v(\"Kirim Pesan Untuk Koperasi\")])]),_c('q-separator'),_c('q-card-section',[_c('div',{staticClass:\"q-pa-md\",staticStyle:{\"max-width\":\"300px\"}},[_c('q-input',{attrs:{\"filled\":\"\",\"label\":\"Pesan\",\"type\":\"textarea\"},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}})],1),_c('br'),_c('center',[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"color\":\"red\",\"label\":\"Tutup\"}}),_vm._v(\" \"),_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"color\":\"primary\",\"label\":\"Kirim Pesan\"},on:{\"click\":_vm.kirimPesan}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('q-card',[_c('q-card-section',[_c('div',{staticClass:\"text-h6\"},[_vm._v(\"Isi Laporan\")])]),_c('q-separator'),_c('q-card-section',_vm._l((_vm.nn),function(htm){return _c('div',{key:htm,staticClass:\"desc\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(htm)}})])}),0),_c('q-card-section',[_c('center',[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"color\":\"red\",\"label\":\"Close\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <q-card>\n      <q-card-section>\n        <div class=\"text-h6\">Isi Laporan</div>\n      </q-card-section>\n      <q-separator/>\n      <q-card-section>\n        <div class=\"desc\" v-for=\"htm in nn\" :key=\"htm\">\n          <div v-html=\"htm\"></div>\n        </div>\n      </q-card-section>\n      <q-card-section>\n        <center>\n          <q-btn color=\"red\" label=\"Close\" v-close-popup/>&nbsp;\n        </center>\n      </q-card-section>\n    </q-card>\n  </div>\n</template>\n\n<script>\n\n  import XLSX from 'xlsx';\n\n  export default {\n    props: ['ss'],\n    data() {\n      return {\n        nn: [],\n      }\n    },\n    methods: {\n      showLaporan() {\n        this.$q.loading.show()\n        this.$http.get(`/api/getlaporanterkirim/${this.ss[0].id}`, {\n          headers: this.$auth.getHeader()\n        })\n          .then((res) => {\n            const { data } = res\n            const wb = XLSX.read(data.file, { type: 'base64' });\n            this.nn = []\n            for (let i = 0; i < wb.SheetNames.length; i++) {\n              const ws = wb.Sheets[wb.SheetNames[i]];\n              this.nn.push(XLSX.utils.sheet_to_html(ws, {}))\n            }\n            this.$q.loading.hide()\n          })\n          .catch(() => {\n            this.$q.notify({\n              type: 'negative',\n              message: `Terjadi kesalahan refresh (F5)`\n            })\n            this.$q.loading.hide()\n          })\n      }\n    },\n    created() {\n      this.showLaporan()\n    }\n  }\n</script>\n\n<style scoped>\n  .desc >>> table {\n    width: 100%;\n    border-collapse: collapse;\n    color: #211b19;\n  }\n  /* Zebra striping */\n  .desc >>> tr:nth-of-type(odd) {\n    background: #eee;\n  }\n\n  .desc >>> th {\n    background: #333;\n    color: white;\n    font-weight: bold;\n  }\n\n  .desc >>> td, .desc >>> th {\n    padding: 6px;\n    border: 1px solid #ccc;\n    text-align: left;\n  }\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IsiLaporan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IsiLaporan.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IsiLaporan.vue?vue&type=template&id=74214a56&scoped=true&\"\nimport script from \"./IsiLaporan.vue?vue&type=script&lang=js&\"\nexport * from \"./IsiLaporan.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IsiLaporan.vue?vue&type=style&index=0&id=74214a56&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"74214a56\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"q-pa-md\">\n    <q-table\n      :dense=\"$q.screen.lt.md\"\n      title=\"Laporan Keuangan\"\n      :data=\"data\"\n      :columns=\"columns\"\n      :filter=\"filter\"\n      row-key=\"id\"\n      selection=\"single\"\n      :selected.sync=\"selected\"\n    >\n      <template v-slot:top-right>\n\n        <q-btn color=\"primary\" icon=\"fa fa-eye\" :disable=\"selected.length === 0\"\n               size=\"xs\"\n               label=\"Lihat Laporan\" @click=\"lihatLaporan = true\"/>\n        <q-btn color=\"primary\" icon=\"send\"\n               :disable=\"selected.length === 0 || selected[0].status === 3\"\n               size=\"xs\"\n               label=\"Kirim Pesan\" @click=\"pes = true\"/>\n        <q-btn color=\"primary\" icon=\"edit\"\n               :disable=\"selected.length === 0 || selected[0].status === 3\"\n               size=\"xs\"\n               label=\"Change Status\" @click=\"changes\"/>\n        <q-btn color=\"primary\" icon=\"fa fa-download\" :disable=\"selected.length === 0\"\n               size=\"xs\"\n               label=\"Download Laporan\" @click=\"download\"/>\n        <q-input borderless dense debounce=\"300\" v-model=\"filter\" placeholder=\"Search\">\n          <template v-slot:append>\n            <q-icon name=\"search\"/>\n          </template>\n        </q-input>\n      </template>\n    </q-table>\n    <q-dialog v-model=\"lihatLaporan\" full-width full-height persistent transition-show=\"scale\"\n              transition-hide=\"scale\">\n      <isi-laporan v-bind:ss=\"selected\"/>\n    </q-dialog>\n    <q-dialog v-model=\"change\" persistent transition-show=\"scale\"\n              transition-hide=\"scale\">\n      <q-card>\n        <q-card-section>\n          <div class=\"text-h6\"> Ubah Status Laporan</div>\n        </q-card-section>\n        <q-separator/>\n        <q-card-section>\n          <q-select outlined v-model=\"status\" :options=\"options\" :dense=\"true\" label=\"Tahun\"\n                    :options-dense=\"false\">\n            <template v-slot:prepend>\n              <q-icon name=\"event\"/>\n            </template>\n          </q-select>\n        </q-card-section>\n        <q-card-section>\n          <center>\n            <q-btn color=\"red\" label=\"Close\" v-close-popup/>&nbsp;&nbsp;\n            <q-btn color=\"primary\" label=\"Ubah Status\" @click=\"ubahStatus\"/>\n          </center>\n        </q-card-section>\n      </q-card>\n    </q-dialog>\n    <q-dialog v-model=\"pes\" persistent transition-show=\"scale\"\n              transition-hide=\"scale\">\n      <q-card>\n        <q-card-section>\n          <div class=\"text-h6\">Kirim Pesan Untuk Koperasi</div>\n        </q-card-section>\n        <q-separator/>\n        <q-card-section>\n          <div class=\"q-pa-md\" style=\"max-width: 300px\">\n            <q-input\n              v-model=\"text\"\n              filled\n              label=\"Pesan\"\n              type=\"textarea\"\n            />\n          </div>\n          <br>\n          <center>\n            <q-btn color=\"red\" label=\"Tutup\" v-close-popup/>&nbsp;\n            <q-btn color=\"primary\" label=\"Kirim Pesan\" @click=\"kirimPesan\" v-close-popup/>\n          </center>\n        </q-card-section>\n      </q-card>\n    </q-dialog>\n  </div>\n</template>\n\n<script>\n  import moment from 'moment'\n  import IsiLaporan from './Layout/IsiLaporan.vue'\n\n  export default {\n    components: {\n      IsiLaporan\n    },\n    data() {\n      return {\n        text: null,\n        pes: false,\n        status: null,\n        options: ['Request', 'In Review', 'Approve'],\n        change: false,\n        lihatLaporan: false,\n        selected: [],\n        data: [],\n        columns: [\n          {\n            name: 'status',\n            label: 'status',\n            align: 'center',\n            field: row => (row.status === 1 ? 'Request' : row.status === 2 ? 'In Riview' : 'Approve'),\n            sortable: true,\n          }, {\n            name: 'koperasi',\n            label: 'Koperasi',\n            align: 'center',\n            field: row => row.nama_koperasi,\n            sortable: true,\n          }, {\n            name: 'alamat',\n            label: 'Alamat Koperasi',\n            align: 'center',\n            field: row => row.alamat_koperasi,\n            sortable: true,\n          }, {\n            name: 'file',\n            label: 'File (xls)',\n            align: 'center',\n            field: row => row.original_name,\n            sortable: true,\n          }, {\n            name: 'laporan',\n            label: 'Laporan (Tahun)',\n            align: 'center',\n            field: row => row.tahun_laporan,\n            sortable: true,\n          }, {\n            name: 'pengajuan',\n            label: 'Tanggal Pengajuan',\n            align: 'center',\n            field: row => this.getDate(row.created_at),\n            sortable: true,\n          },\n        ],\n        filter: ''\n      }\n    },\n    methods: {\n      kirimPesan() {\n        this.$q.loading.show()\n        this.$http.post(`/api/kirimpesanlaporan/${this.selected[0].id}`, {\n          text: this.text\n        }, {\n          headers: this.$auth.getHeader()\n        })\n          .then(() => {\n            this.$q.notify({\n              type: 'positive',\n              message: `Berhasil mengirim pesan`\n            })\n            this.$q.loading.hide()\n          })\n          .catch(() => {\n            this.$q.notify({\n              type: 'negative',\n              message: `Gagal mengirim pesan, refresh (F5)`\n            })\n            this.$q.loading.hide()\n          })\n      },\n      ubahStatus() {\n        this.$q.loading.show()\n        this.$http.put(`/api/changestatuslaporan/${this.selected[0].id}`, {\n          statusLaporan: this.status\n        }, {\n          headers: this.$auth.getHeader()\n        })\n          .then((res) => {\n            this.change = false\n            this.$q.notify({\n              type: 'positive',\n              message: `Berhasil mengubah Status`\n            })\n            this.getData()\n          })\n          .catch(() => {\n            this.$q.loading.hide()\n          })\n      },\n      changes() {\n        this.status = (this.selected[0].status === 1 ? 'Request' : (this.selected[0].status === 2 ? 'In Review' : 'Approve'))\n        this.change = true\n      },\n      download() {\n        this.$q.loading.show()\n        this.$http.get(`/api/downloadlaporankeuangan/${this.selected[0].id}`, {\n          headers: this.$auth.getHeader(),\n          responseType: 'arraybuffer'\n        })\n          .then((res) => {\n            this.downloadFile(res.data, 'laporankeuangan')\n            this.$q.loading.hide()\n          })\n          .catch(() => {\n            this.$q.notify({\n              type: 'negative',\n              message: `Terjadi kesalahan refresh (F5)`\n            })\n            this.$q.loading.hide()\n          })\n      },\n      downloadFile(response, filename) {\n        // It is necessary to create a new blob object with mime-type explicitly set\n        // otherwise only Chrome works like it should\n        const newBlob = new Blob([response], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' })\n\n        // IE doesn't allow using a blob object directly as link href\n        // instead it is necessary to use msSaveOrOpenBlob\n        if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n          window.navigator.msSaveOrOpenBlob(newBlob)\n          return\n        }\n\n        // For other browsers:\n        // Create a link pointing to the ObjectURL containing the blob.\n        const data = window.URL.createObjectURL(newBlob)\n        const link = document.createElement('a')\n        link.href = data\n        link.download = `${filename}.xlsx`\n        link.click()\n        setTimeout(() => {\n          // For Firefox it is necessary to delay revoking the ObjectURL\n          window.URL.revokeObjectURL(data)\n        }, 100)\n        this.$swal({\n          position: 'center',\n          type: 'success',\n          width: 300,\n          title: 'Berhasil Mengexport Data',\n          showConfirmButton: false,\n          timer: 1500\n        })\n      },\n      getDate(date) {\n        moment.lang('id')\n        return moment(date)\n          .format('dddd, Do MMMM YYYY')\n      },\n      getData() {\n        this.$http.get('/api/getlaporankoperasikabtoba', {\n          headers: this.$auth.getHeader()\n        })\n          .then((res) => {\n            const { data } = res\n            this.data = data.datatable\n            this.$q.loading.hide()\n          })\n          .catch(() => {\n            this.$q.loading.hide()\n          })\n      }\n    },\n    created() {\n      this.$q.loading.show()\n      this.getData()\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LaporanTahunan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LaporanTahunan.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LaporanTahunan.vue?vue&type=template&id=69877224&scoped=true&\"\nimport script from \"./LaporanTahunan.vue?vue&type=script&lang=js&\"\nexport * from \"./LaporanTahunan.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"69877224\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}