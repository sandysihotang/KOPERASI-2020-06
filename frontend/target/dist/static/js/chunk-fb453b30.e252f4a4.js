(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fb453b30"],{"0b3c":function(t,a,e){"use strict";var r=e("ca97"),n=e.n(r);n.a},ca97:function(t,a,e){},f58d:function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("q-layout",[e("q-page-container",[e("q-page",{staticClass:"window-height window-width row justify-center items-center",staticStyle:{background:"radial-gradient(circle at 40% 91%, rgba(251, 251, 251,0.04) 0%, rgba(251, 251, 251,0.04) 50%,rgba(229, 229, 229,0.04) 50%, rgba(229, 229, 229,0.04) 100%),radial-gradient(circle at 66% 97%, rgba(36, 36, 36,0.04) 0%, rgba(36, 36, 36,0.04) 50%,rgba(46, 46, 46,0.04) 50%, rgba(46, 46, 46,0.04) 100%),radial-gradient(circle at 86% 7%, rgba(40, 40, 40,0.04) 0%, rgba(40, 40, 40,0.04) 50%,rgba(200, 200, 200,0.04) 50%, rgba(200, 200, 200,0.04) 100%),radial-gradient(circle at 15% 16%, rgba(99, 99, 99,0.04) 0%, rgba(99, 99, 99,0.04) 50%,rgba(45, 45, 45,0.04) 50%, rgba(45, 45, 45,0.04) 100%),radial-gradient(circle at 75% 99%, rgba(243, 243, 243,0.04) 0%, rgba(243, 243, 243,0.04) 50%,rgba(37, 37, 37,0.04) 50%, rgba(37, 37, 37,0.04) 100%),linear-gradient(90deg, rgb(34, 222, 237),rgb(135, 89, 215))"}},[e("div",{staticClass:"column q-pa-lg"},[e("div",{staticClass:"row"},[e("q-card",{staticClass:"shadow-24",staticStyle:{width:"300px",height:"485px"},attrs:{square:""}},[e("q-card-section",{staticClass:"bg-deep-purple-7"},[e("h4",{staticClass:"text-h5 text-white q-my-md"},[t._v("TobaKo")]),e("div",{staticClass:"absolute-bottom-right q-pr-md",staticStyle:{transform:"translateY(50%)"}},[e("router-link",{attrs:{to:"/register"}},[e("q-btn",{attrs:{round:"",icon:"add",color:"purple-4"}})],1)],1)]),e("q-card-section",[e("q-form",{staticClass:"q-px-sm q-pt-xl"},[e("q-input",{attrs:{square:"",clearable:"",type:"text",label:"Username"},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"person"}})]},proxy:!0}]),model:{value:t.form.username,callback:function(a){t.$set(t.form,"username",a)},expression:"form.username"}}),e("q-input",{attrs:{square:"",clearable:"",type:"password",label:"Password"},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"lock"}})]},proxy:!0}]),model:{value:t.form.password,callback:function(a){t.$set(t.form,"password",a)},expression:"form.password"}})],1)],1),e("q-card-actions",{staticClass:"q-px-lg"},[e("q-btn",{staticClass:"full-width text-white",attrs:{loading:t.loading,unelevated:"",size:"lg",color:"purple-4",label:"Sign In"},on:{click:t.login},scopedSlots:t._u([{key:"loading",fn:function(){return[e("q-spinner-hourglass",{staticClass:"on-left"}),t._v(" Loading... ")]},proxy:!0}])})],1),e("q-card-section",{staticClass:"text-center q-pa-sm"},[e("p",{staticClass:"text-grey-6"},[t._v("Forgot your password?")])])],1)],1)])])],1)],1)],1)},n=[],s=(e("b0c0"),e("e25e"),{name:"Login",data:function(){return{form:{username:null,password:null},loading:!1}},methods:{login:function(){var t=this;this.loading=!0;var a=this.checkCredential();if(a){var e=new FormData;e.set("grant_type","password"),e.set("username",this.form.username),e.set("password",this.form.password),this.$http.post("oauth/token",e,{auth:{username:"mobile",password:"pin"}}).then((function(a){t.$auth.setToken(a.data.access_token,1e3*a.data.expires_in+Date.now()),t.$http.get("api/login/currentuser",{headers:t.$auth.getHeader()}).then((function(a){t.$auth.setAuthenticatedUser(a.data.userAuthentication.principal.userDetail),t.$auth.setUserRole(a.data.userAuthentication.principal.roles[0].name),t.$auth.setHaveKoperasi(a.data.userAuthentication.principal.haveKoperasi),3===parseInt(localStorage.getItem("havekoperasi"))?t.$http.get("/api/jeniskoperasi",{headers:t.$auth.getHeader()}).then((function(a){t.$auth.setJenisKoperasi(a.data),window.location.href="/"})).catch((function(a){t.$swal({position:"center",type:"error",title:"Ada gangguan jaringan silahkan refresh (F5)",showConfirmButton:!1,timer:1500})})):window.location.href="/"})).catch((function(a){t.$swal({position:"center",type:"error",title:"Ada gangguan jaringan silahkan refresh (F5)",showConfirmButton:!1,timer:1500}),t.loading=!1})),t.loading=!1})).catch((function(a){t.$swal({position:"center",type:"error",title:"Silahkan Tunggu Konfirmasi dari Diskoperindag daerah anda",showConfirmButton:!1,timer:1500}),t.loading=!1}))}else this.$swal({position:"center",type:"error",title:"Silahkan isi Username dan Password",showConfirmButton:!1,timer:1500}),this.loading=!1},checkCredential:function(){return!(!this.form.username||!this.form.password)}}}),i=s,o=(e("0b3c"),e("2877")),l=Object(o["a"])(i,r,n,!1,null,null,null);a["default"]=l.exports}}]);
//# sourceMappingURL=chunk-fb453b30.e252f4a4.js.map