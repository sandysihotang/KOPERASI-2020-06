(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0df2a6"],{"896e":function(a,e,t){"use strict";t.r(e);var n=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"q-pa-md"},[t("q-table",{attrs:{dense:a.$q.screen.lt.md,title:"Daftar Transaksi Produk Terkini",data:a.data,columns:a.columns,filter:a.filter,"row-key":"id",selection:"single",selected:a.selected},on:{"update:selected":function(e){a.selected=e}},scopedSlots:a._u([{key:"top-right",fn:function(){return[t("q-btn",{attrs:{size:"xs",color:"green",label:"Detail Transaksi",icon:"print",disable:0===a.selected.length},on:{click:a.detailTransaksi}}),a._v(" "),t("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:a._u([{key:"append",fn:function(){return[t("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:a.filter,callback:function(e){a.filter=e},expression:"filter"}})]},proxy:!0}])}),t("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:a.detail,callback:function(e){a.detail=e},expression:"detail"}},[t("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[t("q-card-section",[t("q-table",{attrs:{dense:a.$q.screen.lt.md,title:"Daftar Transaksi Produk Terkini",data:a.datadetail,columns:a.columnsdetail}})],1),t("q-card-actions",{staticClass:"bg-white text-teal",attrs:{align:"right"}},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Close"}})],1)],1)],1)],1)},r=[],i=(t("99af"),t("e25e"),t("c1df")),l=t.n(i),o={data:function(){var a=this;return{detail:!1,selected:[],filter:"",data:[],columns:[{name:"kodetran",label:"Kode Transaksi",align:"center",field:function(a){return a.kodeTransaksi},sortable:!0},{name:"tgltransaksi",label:"Tanggal Transaksi",align:"center",field:function(a){return l.a.lang("id"),l()(a.tanggalTransaksi).format("dddd, Do MMMM YYYY")},sortable:!0},{name:"pembeli",label:"Pembeli",align:"center",field:function(a){return!1===a.keanggotaan?"Bukan Anggota":"Anggota"},sortable:!0},{name:"totalbeli",label:"Total Beli",align:"center",field:function(e){return a.toIDR(parseInt(e.uangMasuk))},sortable:!0}],datadetail:[],columnsdetail:[{name:"namaproduk",label:"Nama Produk",align:"center",field:function(a){return a.harga.produk.namaProduk},sortable:!0},{name:"kodeproduk",label:"Kode Produk",align:"center",field:function(a){return a.harga.produk.kodeProduk},sortable:!0},{name:"jumlah",label:"Jumlah",align:"center",field:function(a){return a.jumlahBeli},sortable:!0},{name:"harga",label:"Harga",align:"center",field:function(e){return a.toIDR(parseInt(e.keanggotaan?e.harga.hargaJualAnggota:e.harga.hargaJualNonAnggota))},sortable:!0},{name:"total",label:"Total",align:"center",field:function(e){return a.toIDR(parseInt(e.jumlahBeli*(e.keanggotaan?e.harga.hargaJualAnggota:e.harga.hargaJualNonAnggota)))},sortable:!0}]}},methods:{detailTransaksi:function(){var a=this;this.$q.loading.show(),this.$http.get("/api/getdetailtransaksiproduk/".concat(this.selected[0].id),{headers:this.$auth.getHeader()}).then((function(e){a.datadetail=e.data,a.$q.loading.hide()})).catch((function(){a.$q.loading.hide(),a.$swal({position:"center",type:"error",title:"Terjadi kesalahan, Refresh (F5)",showConfirmButton:!1,timer:1500})})),this.detail=!0},getData:function(){var a=this;this.$http.get("/api/gettransaksiterkiniprod",{headers:this.$auth.getHeader()}).then((function(e){a.data=e.data,a.$q.loading.hide()})).catch((function(){a.$q.loading.hide(),a.$swal({position:"center",type:"error",title:"Terjadi kesalahan, Refresh (F5)",showConfirmButton:!1,timer:1500})}))},toIDR:function(a){for(var e="".concat(a),t="",n=0,r=e.length-1;r>=0;r--)t="".concat(t).concat(e[r]),2===n&&0!==r?(t="".concat(t,","),n=0):n++;for(var i="Rp ",l=t.length-1;l>=0;l--)i="".concat(i).concat(t[l]);return i}},created:function(){this.$q.loading.show(),this.getData()}},s=o,d=t("2877"),c=Object(d["a"])(s,n,r,!1,null,"4ab3b504",null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0df2a6.74ee0d10.js.map