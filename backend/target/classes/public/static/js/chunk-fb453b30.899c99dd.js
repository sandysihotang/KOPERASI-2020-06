(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fb453b30"],{"0b3c":function(t,e,a){"use strict";var s=a("ca97"),n=a.n(s);n.a},ca97:function(t,e,a){},f58d:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-layout",[a("q-page-container",[a("q-page",{staticClass:"window-height window-width row justify-center items-center",staticStyle:{background:"linear-gradient(#8274C5, #5A4A9F)"}},[a("div",{staticClass:"column q-pa-lg"},[a("div",{staticClass:"row"},[a("q-card",{staticClass:"shadow-24",staticStyle:{width:"300px",height:"485px"},attrs:{square:""}},[a("q-card-section",{staticClass:"bg-deep-purple-7"},[a("h4",{staticClass:"text-h5 text-white q-my-md"},[t._v("Koperasi")]),a("div",{staticClass:"absolute-bottom-right q-pr-md",staticStyle:{transform:"translateY(50%)"}},[a("router-link",{attrs:{to:"/register"}},[a("q-btn",{attrs:{round:"",icon:"add",color:"purple-4"}})],1)],1)]),a("q-card-section",[a("q-form",{staticClass:"q-px-sm q-pt-xl"},[a("q-input",{attrs:{square:"",clearable:"",type:"text",label:"Username"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"person"}})]},proxy:!0}]),model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}}),a("q-input",{attrs:{square:"",clearable:"",type:"password",label:"Password"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"lock"}})]},proxy:!0}]),model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)],1),a("q-card-actions",{staticClass:"q-px-lg"},[a("q-btn",{staticClass:"full-width text-white",attrs:{loading:t.loading,unelevated:"",size:"lg",color:"purple-4",label:"Sign In"},on:{click:t.login},scopedSlots:t._u([{key:"loading",fn:function(){return[a("q-spinner-hourglass",{staticClass:"on-left"}),t._v(" Loading... ")]},proxy:!0}])})],1),a("q-card-section",{staticClass:"text-center q-pa-sm"},[a("p",{staticClass:"text-grey-6"},[t._v("Forgot your password?")])])],1)],1)])])],1)],1)],1)},n=[],r=(a("0d03"),a("b0c0"),{name:"Login",data:function(){return{form:{username:null,password:null},loading:!1}},methods:{login:function(){var t=this;this.loading=!0;var e=this.checkCredential();if(e){var a=new FormData;a.set("grant_type","password"),a.set("username",this.form.username),a.set("password",this.form.password),this.$http.post("oauth/token",a,{auth:{username:"mobile",password:"pin"}}).then((function(e){t.$auth.setToken(e.data.access_token,1e3*e.data.expires_in+Date.now()),t.$http.get("api/login/currentuser",{headers:t.$auth.getHeader()}).then((function(e){t.$auth.setAuthenticatedUser(e.data.userAuthentication.principal.userDetail),t.$auth.setUserRole(e.data.userAuthentication.principal.roles[0].name),t.$auth.setHaveKoperasi(e.data.userAuthentication.principal.haveKoperasi),window.location.href="/"})).catch((function(e){t.$swal({position:"center",type:"error",title:"Ada gangguan jaringan silahkan refresh (F5)",showConfirmButton:!1,timer:1500}),t.loading=!1})),t.loading=!1})).catch((function(e){t.$swal({position:"center",type:"error",title:"Silahkan Tunggu Konfirmasi dari Diskoperindag daerah anda",showConfirmButton:!1,timer:1500}),t.loading=!1}))}else this.$swal({position:"center",type:"error",title:"Silahkan isi Username dan Password",showConfirmButton:!1,timer:1500}),this.loading=!1},checkCredential:function(){return!(!this.form.username||!this.form.password)}}}),i=r,o=(a("0b3c"),a("2877")),l=Object(o["a"])(i,s,n,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-fb453b30.899c99dd.js.map