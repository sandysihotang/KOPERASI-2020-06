(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d213e0d"],{af0b:function(a,t,e){"use strict";e.r(t);var i=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("q-layout",{attrs:{view:"hHh lpR fFf"}},[e("q-header",{staticClass:"bg-primary text-white",attrs:{elevated:""}},[e("q-toolbar",[e("q-toolbar-title",[a._v(" "+a._s(a.koperasi)+" ")]),e("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"fa fa-sign-out-alt"},on:{click:a.logOut}})],1)],1),e("q-page-container",[e("q-card",[e("q-separator"),e("q-tab-panels",{staticStyle:{height:"100%",width:"100%"},attrs:{animated:""},model:{value:a.tab,callback:function(t){a.tab=t},expression:"tab"}},[e("q-tab-panel",{attrs:{name:"mails"}},[e("Home")],1),e("q-tab-panel",{attrs:{name:"alarms"}}),e("q-tab-panel",{attrs:{name:"movies"}},[e("Pinjaman")],1)],1)],1)],1),e("q-footer",{staticClass:"bg-white"},[e("q-tabs",{staticClass:"text-grey",attrs:{dense:"","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},model:{value:a.tab,callback:function(t){a.tab=t},expression:"tab"}},[e("q-tab",{attrs:{name:"mails",icon:"home",label:"Home"}}),e("q-tab",{attrs:{name:"alarms",icon:"alarm",label:"Simpanan"}}),e("q-tab",{attrs:{name:"movies",icon:"movie",label:"Pinjaman"}})],1)],1)],1)],1)},n=[],s=(e("99af"),function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("q-card",[e("center",[a._v(" "+a._s(a.nama)+" "),e("br"),e("h5",[e("q-badge",{attrs:{color:"primary",outline:"",label:"Total simpanan: Rp. 0"}})],1)])],1),e("q-separator"),e("q-card",[e("q-card-section",[a._v(" Tagihan ")]),e("q-separator"),a.tagihan?e("div",[e("q-intersection",{staticClass:"example-item",attrs:{transition:"flip-right"}},[e("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""}},[e("q-item-section",{attrs:{avatar:""}},[e("q-avatar",{attrs:{color:"primary","text-color":"white"}},[e("q-icon",{attrs:{name:"check"}})],1)],1),e("q-item-section",{staticClass:"text-black"},[e("q-item-label",{attrs:{caption:""}},[a._v("Kode Pinjaman: #"+a._s(a.kodePinjaman))]),e("q-item-label",{staticClass:"text-caption"},[a._v("Pembayaran berikutnya:"+a._s(a.toIDR(a.jumlahPembayaranBerikutnya))+" ")]),e("q-item-label",{attrs:{caption:"",lines:"1"}},[e("q-chip",{staticClass:"glossy",attrs:{color:"primary","text-color":"white"}},[a._v(a._s(a.mom(a.tanggalPembayaranBerikutnya))+" ")])],1)],1)],1)],1)],1):e("div",[e("center",[e("div",{staticClass:"text-purple"},[e("q-icon",{attrs:{name:"fa fa-smile",size:"xl"}})],1),e("div",{staticClass:"text-black"},[a._v(" Yeay kamu tidak punya tagihan! ")])])],1)],1)],1)}),r=[],o=e("c1df"),l=e.n(o),c={data:function(){return{nama:"",tagihan:!1,kodePinjaman:null,jumlahPembayaranBerikutnya:null,tanggalPembayaranBerikutnya:null,idPinjaman:null}},methods:{mom:function(a){return l.a.lang("id"),l()(a).format("dddd, Do MMMM YYYY")},toIDR:function(a){for(var t="".concat(a),e="",i=0,n=t.length-1;n>=0;n--)e="".concat(e).concat(t[n]),2===i&&0!==n?(e="".concat(e,","),i=0):i++;for(var s="Rp ",r=e.length-1;r>=0;r--)s="".concat(s).concat(e[r]);return s},getName:function(){var a=this;this.$http.get("/api/getnameanggota",{headers:this.$auth.getHeader()}).then((function(t){a.nama=t.data,a.existTagihan()})).catch((function(){a.$q.loading.hide()}))},existTagihan:function(){var a=this;this.$http.get("/api/existtagihan",{headers:this.$auth.getHeader()}).then((function(t){a.tagihan=t.data,t.data?a.getData():a.$q.loading.hide()})).catch((function(){a.$q.loading.hide()}))},getData:function(){var a=this;this.$http.get("/api/gettagihan",{headers:this.$auth.getHeader()}).then((function(t){a.kodePinjaman=t.data.kodePinjaman,a.idPinjaman=t.data.id,a.getAngsuran()})).catch((function(){a.$q.loading.hide()}))},getAngsuran:function(){var a=this;this.$http.get("/api/getangsuranbasedidpinjaman/".concat(this.idPinjaman),{headers:this.$auth.getHeader()}).then((function(t){a.jumlahPembayaranBerikutnya=t.data.totalAngsuran,a.tanggalPembayaranBerikutnya=t.data.tanggalJatuhTempo,a.$q.loading.hide()})).catch((function(){a.$q.loading.hide()}))}},created:function(){this.getName()}},m=c,h=e("2877"),d=Object(h["a"])(m,s,r,!1,null,null,null),u=d.exports,p=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[a.showPeminjaman?e("div",[e("q-card",[e("div",{staticClass:"q-pa-md full-width"},[e("div",{staticClass:"q-gutter-md"},[e("q-input",{attrs:{filled:"",label:"Total pinjaman",mask:"Rp #,###,###,###.##","fill-mask":"0","reverse-fill-mask":"","unmasked-value":"","input-class":"text-right"},model:{value:a.price,callback:function(t){a.price=t},expression:"price"}}),e("q-input",{attrs:{filled:"",label:"Jaminan","input-class":"text-right"},model:{value:a.jaminan,callback:function(t){a.jaminan=t},expression:"jaminan"}}),e("q-input",{attrs:{filled:"",label:"Tenor (Bulan)",mask:"## Bln","fill-mask":"0","reverse-fill-mask":"","unmasked-value":"","input-class":"text-right"},on:{input:a.handle},model:{value:a.tenor,callback:function(t){a.tenor=t},expression:"tenor"}})],1)])]),e("q-space"),a.showHandle?e("q-card",[e("q-list",{attrs:{bordered:"",separator:""}},[e("q-item",[e("q-item-section",[a._v("Angsuran Pokok")]),e("q-item-section",[a._v(":")]),e("q-item-section",[a._v(a._s(a.toIDR(a.price/100/a.tenor)))])],1),e("q-item",[e("q-item-section",[a._v("Bunga(%)")]),e("q-item-section",[a._v(":")]),e("q-item-section",[a._v(a._s(a.persentase)+" %")])],1),e("q-item",[e("q-item-section",[a._v("Bunga Angsuran")]),e("q-item-section",[a._v(":")]),e("q-item-section",[a._v(a._s(a.toIDR(a.price/100*a.persentase/100)))])],1),e("q-item",[e("q-item-section",[a._v("Total Angsuran")]),e("q-item-section",[a._v(":")]),e("q-item-section",[a._v(a._s(a.toIDR(a.price/100/a.tenor+a.price/100*a.persentase/100))+" ")])],1),e("q-item",[e("q-item-section",[a._v("Total Bunga/Jasa")]),e("q-item-section",[a._v(":")]),e("q-item-section",[a._v(a._s(a.toIDR(a.price/100*a.persentase/100*a.tenor)))])],1),e("q-item",[e("q-item-section",[a._v("Total Pinjaman")]),e("q-item-section",[a._v(":")]),e("q-item-section",[a._v(a._s(a.toIDR(a.price/100+a.price/100*a.persentase/100*a.tenor))+" ")])],1),e("q-btn",{staticClass:"full-width",attrs:{color:"primary"},on:{click:a.ajukanPinjaman}},[a._v("Ajukan Pinjaman")])],1)],1):a._e()],1):e("div",[e("q-card",[e("q-tabs",{staticClass:"bg-grey-3 text-grey-7",attrs:{dense:"","active-color":"primary","indicator-color":"purple",align:"justify"},model:{value:a.tab,callback:function(t){a.tab=t},expression:"tab"}},[e("q-tab",{attrs:{name:"mails",label:"Berjalan"}}),e("q-tab",{attrs:{name:"alarms",label:"Selesai"}})],1),e("q-tab-panels",{staticClass:"bg-primary text-white",attrs:{animated:""},model:{value:a.tab,callback:function(t){a.tab=t},expression:"tab"}},[e("q-tab-panel",{attrs:{name:"mails"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:!a.adaPinjaman,expression:"!adaPinjaman"}]},[e("center",{staticClass:"text-white"},[e("q-icon",{attrs:{name:"fa fa-search",size:"xl"}}),e("h6",[a._v("Kamu belum mengajukan pinjaman")]),e("q-btn",{attrs:{unelevated:"",rounded:"",color:"purple",label:"Ajukan Peminjaman",size:"xs"},on:{click:function(t){a.showPeminjaman=!0}}})],1)],1),e("div",{directives:[{name:"show",rawName:"v-show",value:a.adaPinjaman,expression:"adaPinjaman"}]},[e("div",{staticClass:"q-pa-md flex justify-center"},[e("div",{staticClass:"full-width bg-white"},[e("q-intersection",{staticClass:"example-item",attrs:{transition:"flip-right"}},[e("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""}},[e("q-item-section",{attrs:{avatar:""}},[e("q-avatar",{attrs:{color:"primary","text-color":"white"}},[e("q-icon",{attrs:{name:"check"}})],1)],1),e("q-item-section",{staticClass:"text-black"},[e("q-item-label",{attrs:{caption:""}},[a._v("Kode Pinjaman: "+a._s(a.dataPinjaman.kodePinjaman)+" ")]),e("q-item-label",{staticClass:"text-caption"},[a._v("Total pengajuan:"+a._s(a.toIDR(a.dataPinjaman.jumlahPinjaman))+" ")]),e("q-item-label",{attrs:{caption:"",lines:"1"}},[e("q-chip",{staticClass:"glossy",attrs:{color:"primary","text-color":"white"}},[a._v(a._s(a.status[a.dataPinjaman.status-1])+" ")])],1)],1)],1)],1)],1)])])]),e("q-tab-panel",{attrs:{name:"alarms"}},[a.pinjamanSelesai?e("div",[e("div",{staticClass:"q-pa-md flex justify-center"},[e("div",{staticClass:"full-width bg-white"},a._l(a.dataPinjamanSelesai,(function(t){return e("q-intersection",{key:t.id,staticClass:"example-item",attrs:{transition:"flip-right"}},[e("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""}},[e("q-item-section",{attrs:{avatar:""}},[e("q-avatar",{attrs:{color:"primary","text-color":"white"}},[e("q-icon",{attrs:{name:"check"}})],1)],1),e("q-item-section",{staticClass:"text-black"},[e("q-item-label",{attrs:{caption:""}},[a._v("Kode Pinjaman: "+a._s(t.kodePinjaman)+" ")]),e("q-item-label",{staticClass:"text-caption"},[a._v("Total pengajuan:"+a._s(a.toIDR(t.jumlahPinjaman))+" ")]),e("q-item-label",{attrs:{caption:"",lines:"1"}},[e("q-chip",{staticClass:"glossy",attrs:{color:"primary","text-color":"white"}},[a._v(a._s(a.status[t.status-1])+" ")])],1)],1)],1)],1)})),1)])]):e("div",[e("center",{staticClass:"text-white"},[e("q-icon",{attrs:{name:"fa fa-search",size:"xl"}}),e("h6",[a._v("Kamu belum mengajukan pinjaman")])],1)],1)])],1)],1)],1)])},g=[],q=(e("e25e"),{data:function(){return{pinjamanSelesai:!1,status:["","Berjalan","","Sedang Dicek","Dalam Persetujuan","Selesai"],dataPinjaman:[],id:null,tab:"mails",showPeminjaman:!1,price:null,tenor:null,showHandle:!1,persentase:null,jaminan:null,adaPinjaman:!1,dataPinjamanSelesai:[]}},methods:{handle:function(a){this.showHandle=0!==a.length},existPinjamanSelesai:function(){var a=this;this.$http.get("/api/getpinjamanselesai",{headers:this.$auth.getHeader()}).then((function(t){a.pinjamanSelesai=t.data,a.getPinjamanSelesai()}))},getPinjamanSelesai:function(){var a=this;this.$http.get("/api/getpinjamanselesaidata",{headers:this.$auth.getHeader()}).then((function(t){a.dataPinjamanSelesai=t.data}))},ajukanPinjaman:function(){var a=this;0===parseInt(this.price)&&parseInt(this.tenor)&&0===this.jaminan.length?this.$swal({position:"center",type:"error",title:"Silahkan isi semua field Peminjaman!",showConfirmButton:!1,timer:1500}):(this.$q.loading.show(),this.$http.post("/api/requestpeminjaman",{id:this.id,jaminan:this.jaminan,tenor:this.tenor,price:this.price},{headers:this.$auth.getHeader()}).then((function(t){a.showPeminjaman=!1,a.getAdaPinjaman()})).catch((function(){a.$q.loading.hide()})))},getAdaPinjaman:function(){var a=this;this.$q.loading.show(),this.$http.get("/api/getadapinjaman",{headers:this.$auth.getHeader()}).then((function(t){a.adaPinjaman=t.data,a.adaPinjaman?a.getDataProcessing():a.getSettings()})).catch((function(){a.$swal({position:"center",type:"error",title:"Ada kesalahan pada sistem, refresh (F5)",showConfirmButton:!1,timer:1500}),a.$q.loading.hide()}))},getDataProcessing:function(){var a=this;this.$http.get("/api/getdatapinjaman",{headers:this.$auth.getHeader()}).then((function(t){a.dataPinjaman=t.data,a.$q.loading.hide()})).catch((function(){a.$swal({position:"center",type:"error",title:"Ada kesalahan pada sistem, refresh (F5)",showConfirmButton:!1,timer:1500}),a.$q.loading.hide()}))},getSettings:function(){var a=this;this.$http.get("/api/getpengaturanpinjamanreqpinjaman",{headers:this.$auth.getHeader()}).then((function(t){a.persentase=t.data.bungaPinjaman,a.id=t.data.id,a.$q.loading.hide()})).catch((function(){a.$q.loading.hide(),a.$swal({position:"center",type:"error",title:"Terjadi Kesalhan, refresh (F5)",showConfirmButton:!1,timer:1500})}))},toIDR:function(a){for(var t="".concat(a),e="",i=0,n=t.length-1;n>=0;n--)e="".concat(e).concat(t[n]),2===i&&0!==n?(e="".concat(e,","),i=0):i++;for(var s="Rp ",r=e.length-1;r>=0;r--)s="".concat(s).concat(e[r]);return s}},created:function(){this.getAdaPinjaman(),this.existPinjamanSelesai()}}),f=q,v=Object(h["a"])(f,p,g,!1,null,"d26f5c9e",null),j=v.exports,b={components:{Home:u,Pinjaman:j},data:function(){return{tab:"mails",koperasi:"Koperasi "}},methods:{logOut:function(){window.localStorage.clear(),window.location.href="/"},getNameKoperasi:function(){var a=this;this.$q.loading.show(),this.$http.get("/api/getnamekoperasi",{headers:this.$auth.getHeader()}).then((function(t){a.koperasi="".concat(a.koperasi," ").concat(t.data)})).catch((function(){a.$q.loading.hide()}))}},created:function(){this.getNameKoperasi()}},k=b,P=Object(h["a"])(k,i,n,!1,null,"44d6b2e0",null);t["default"]=P.exports}}]);
//# sourceMappingURL=chunk-2d213e0d.4f37d54d.js.map