{"version":3,"sources":["webpack:///./src/components/AuthenticatedUser/Koperasi/KSU/Laporan/KirimLaporan/EditLaporan.vue?91bf","webpack:///./src/components/AuthenticatedUser/Koperasi/KSU/Laporan/KirimLaporan/LaporanTerkirim.vue?ea11","webpack:///./src/components/AuthenticatedUser/Koperasi/KSU/Laporan/KirimLaporan/IsiLaporan.vue?1295","webpack:///src/components/AuthenticatedUser/Diskoperindag/Layout/Layout/IsiLaporan.vue","webpack:///./src/components/AuthenticatedUser/Koperasi/KSU/Laporan/KirimLaporan/IsiLaporan.vue?c73f","webpack:///./src/components/AuthenticatedUser/Koperasi/KSU/Laporan/KirimLaporan/IsiLaporan.vue","webpack:///./src/components/AuthenticatedUser/Koperasi/KSU/Laporan/KirimLaporan/EditLaporan.vue?d20b","webpack:///./src/components/AuthenticatedUser/Koperasi/KSU/Laporan/KirimLaporan/EditLaporan.vue?384c","webpack:///./src/components/AuthenticatedUser/Koperasi/KSU/Laporan/KirimLaporan/EditLaporan.vue","webpack:///src/components/AuthenticatedUser/Koperasi/KSU/Laporan/KirimLaporan/LaporanTerkirim.vue","webpack:///./src/components/AuthenticatedUser/Koperasi/KSU/Laporan/KirimLaporan/LaporanTerkirim.vue?122f","webpack:///./src/components/AuthenticatedUser/Koperasi/KSU/Laporan/KirimLaporan/LaporanTerkirim.vue","webpack:///./src/components/AuthenticatedUser/Koperasi/KSU/Laporan/KirimLaporan/IsiLaporan.vue?d001","webpack:///src/components/AuthenticatedUser/Koperasi/KSU/Laporan/KirimLaporan/EditLaporan.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","$q","screen","lt","md","data","columns","filter","selected","on","$event","scopedSlots","_u","key","fn","length","lihatLaporan","editLaporan","proxy","model","value","callback","$$v","expression","getData","staticRenderFns","_v","_l","htm","domProps","_s","directives","name","rawName","component","changeFile","stopPropagation","options","tahunKirim","simpan"],"mappings":"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","file":"static/js/chunk-75e1518a.5026d7f5.js","sourcesContent":["import mod from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditLaporan.vue?vue&type=style&index=0&id=1e741a6a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditLaporan.vue?vue&type=style&index=0&id=1e741a6a&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"q-pa-md\"},[_c('q-table',{attrs:{\"dense\":_vm.$q.screen.lt.md,\"title\":\"Laporan Terkirim Ke Dinas Koperasi\",\"data\":_vm.data,\"columns\":_vm.columns,\"filter\":_vm.filter,\"row-key\":\"id\",\"selection\":\"single\",\"selected\":_vm.selected},on:{\"update:selected\":function($event){_vm.selected=$event}},scopedSlots:_vm._u([{key:\"top-right\",fn:function(){return [_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col\"},[_c('q-btn',{attrs:{\"color\":\"primary\",\"icon\":\"fa fa-eye\",\"disable\":_vm.selected.length === 0,\"size\":\"xs\",\"label\":\"Lihat Laporan\"},on:{\"click\":function($event){_vm.lihatLaporan = true}}})],1),_c('div',{staticClass:\"col\"},[_c('q-btn',{attrs:{\"color\":\"primary\",\"icon\":\"edit\",\"disable\":_vm.selected.length === 0,\"size\":\"xs\",\"label\":\"Edit Laporan\"},on:{\"click\":function($event){_vm.editLaporan = true}}})],1),_c('div',{staticClass:\"col\"},[_c('q-input',{attrs:{\"borderless\":\"\",\"dense\":\"\",\"debounce\":\"300\",\"placeholder\":\"Search\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"search\"}})]},proxy:true}]),model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}})],1)])]},proxy:true}])}),_c('q-dialog',{attrs:{\"full-width\":\"\",\"full-height\":\"\",\"persistent\":\"\",\"transition-show\":\"scale\",\"transition-hide\":\"scale\"},model:{value:(_vm.lihatLaporan),callback:function ($$v) {_vm.lihatLaporan=$$v},expression:\"lihatLaporan\"}},[_c('isi-laporan',{attrs:{\"ss\":_vm.selected}})],1),_c('q-dialog',{attrs:{\"full-width\":\"\",\"full-height\":\"\",\"persistent\":\"\",\"transition-show\":\"scale\",\"transition-hide\":\"scale\"},model:{value:(_vm.editLaporan),callback:function ($$v) {_vm.editLaporan=$$v},expression:\"editLaporan\"}},[_c('edit-laporan',{attrs:{\"ss\":_vm.selected},on:{\"getData\":_vm.getData}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('q-card',[_c('q-card-section',[_c('div',{staticClass:\"text-h6\"},[_vm._v(\"Isi Laporan\")])]),_c('q-separator'),_c('q-card-section',_vm._l((_vm.nn),function(htm){return _c('div',{key:htm,staticClass:\"desc\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(htm)}})])}),0),_c('q-card-section',[_c('center',[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"color\":\"red\",\"label\":\"Close\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <q-card>\n      <q-card-section>\n        <div class=\"text-h6\">Isi Laporan</div>\n      </q-card-section>\n      <q-separator/>\n      <q-card-section>\n        <div class=\"desc\" v-for=\"htm in nn\" :key=\"htm\">\n          <div v-html=\"htm\"></div>\n        </div>\n      </q-card-section>\n      <q-card-section>\n        <center>\n          <q-btn color=\"red\" label=\"Close\" v-close-popup/>&nbsp;\n        </center>\n      </q-card-section>\n    </q-card>\n  </div>\n</template>\n\n<script>\n\n  import XLSX from 'xlsx';\n\n  export default {\n    props: ['ss'],\n    data() {\n      return {\n        nn: [],\n      }\n    },\n    methods: {\n      showLaporan() {\n        this.$q.loading.show()\n        this.$http.get(`/api/getlaporanterkirim/${this.ss[0].id}`, {\n          headers: this.$auth.getHeader()\n        })\n          .then((res) => {\n            const { data } = res\n            const wb = XLSX.read(data.file, { type: 'base64' });\n            this.nn = []\n            for (let i = 0; i < wb.SheetNames.length; i++) {\n              const ws = wb.Sheets[wb.SheetNames[i]];\n              this.nn.push(XLSX.utils.sheet_to_html(ws, {}))\n            }\n            this.$q.loading.hide()\n          })\n          .catch(() => {\n            this.$q.notify({\n              type: 'negative',\n              message: `Terjadi kesalahan refresh (F5)`\n            })\n            this.$q.loading.hide()\n          })\n      }\n    },\n    created() {\n      this.showLaporan()\n    }\n  }\n</script>\n\n<style scoped>\n  .desc >>> table {\n    width: 100%;\n    border-collapse: collapse;\n    color: #211b19;\n  }\n  /* Zebra striping */\n  .desc >>> tr:nth-of-type(odd) {\n    background: #eee;\n  }\n\n  .desc >>> th {\n    background: #333;\n    color: white;\n    font-weight: bold;\n  }\n\n  .desc >>> td, .desc >>> th {\n    padding: 6px;\n    border: 1px solid #ccc;\n    text-align: left;\n  }\n</style>\n","import mod from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IsiLaporan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IsiLaporan.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IsiLaporan.vue?vue&type=template&id=0376aa34&scoped=true&\"\nimport script from \"./IsiLaporan.vue?vue&type=script&lang=js&\"\nexport * from \"./IsiLaporan.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IsiLaporan.vue?vue&type=style&index=0&id=0376aa34&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0376aa34\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('q-card',[_c('q-card-section',[_c('div',{staticClass:\"text-h6\"},[_vm._v(\"Edit Pengiriman Laporan\")])]),_c('q-separator'),_c('q-card-section',[_c('q-file',{attrs:{\"filled\":\"\",\"bottom-slots\":\"\",\"type\":\"file\",\"label\":\"Pilih File Excel\",\"counter\":\"\"},on:{\"input\":_vm.changeFile},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"cloud_upload\"},on:{\"click\":function($event){$event.stopPropagation();}}})]},proxy:true},{key:\"append\",fn:function(){return [_c('q-icon',{staticClass:\"cursor-pointer\",attrs:{\"name\":\"close\"},on:{\"click\":function($event){$event.stopPropagation();_vm.model = null}}})]},proxy:true},{key:\"hint\",fn:function(){return [_vm._v(\" File Excel \")]},proxy:true}]),model:{value:(_vm.model),callback:function ($$v) {_vm.model=$$v},expression:\"model\"}}),_c('br'),_c('q-select',{attrs:{\"outlined\":\"\",\"options\":_vm.options,\"dense\":true,\"label\":\"Tahun\",\"options-dense\":false},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"event\"}})]},proxy:true}]),model:{value:(_vm.tahunKirim),callback:function ($$v) {_vm.tahunKirim=$$v},expression:\"tahunKirim\"}}),_c('br'),_c('div',{staticClass:\"row\"},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"color\":\"red\",\"label\":\"close\"}}),_c('q-btn',{attrs:{\"color\":\"primary\",\"icon-right\":\"send\",\"label\":\"Simpan\"},on:{\"click\":_vm.simpan}})],1)],1),_c('q-separator'),_c('q-card-section',_vm._l((_vm.nn),function(htm){return _c('div',{key:htm,staticClass:\"desc\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(htm)}})])}),0),_c('q-separator'),_c('q-card-section')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditLaporan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditLaporan.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditLaporan.vue?vue&type=template&id=1e741a6a&scoped=true&\"\nimport script from \"./EditLaporan.vue?vue&type=script&lang=js&\"\nexport * from \"./EditLaporan.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditLaporan.vue?vue&type=style&index=0&id=1e741a6a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e741a6a\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"q-pa-md\">\n    <q-table\n      :dense=\"$q.screen.lt.md\"\n      title=\"Laporan Terkirim Ke Dinas Koperasi\"\n      :data=\"data\"\n      :columns=\"columns\"\n      :filter=\"filter\"\n      row-key=\"id\"\n      selection=\"single\"\n      :selected.sync=\"selected\"\n    >\n      <template v-slot:top-right>\n        <div class=\"row\">\n          <div class=\"col\">\n            <q-btn color=\"primary\" icon=\"fa fa-eye\" :disable=\"selected.length === 0\"\n                   size=\"xs\"\n                   label=\"Lihat Laporan\" @click=\"lihatLaporan = true\"/>\n          </div>\n          <div class=\"col\">\n            <q-btn color=\"primary\" icon=\"edit\" :disable=\"selected.length === 0\"\n                   size=\"xs\"\n                   label=\"Edit Laporan\" @click=\"editLaporan = true\"/>\n          </div>\n          <div class=\"col\">\n            <q-input borderless dense debounce=\"300\" v-model=\"filter\" placeholder=\"Search\">\n              <template v-slot:append>\n                <q-icon name=\"search\"/>\n              </template>\n            </q-input>\n          </div>\n        </div>\n      </template>\n    </q-table>\n    <q-dialog v-model=\"lihatLaporan\" full-width full-height persistent transition-show=\"scale\"\n              transition-hide=\"scale\">\n      <isi-laporan v-bind:ss=\"selected\"/>\n    </q-dialog>\n    <q-dialog v-model=\"editLaporan\" full-width full-height persistent transition-show=\"scale\"\n              transition-hide=\"scale\">\n      <edit-laporan v-bind:ss=\"selected\" v-on:getData=\"getData\"/>\n    </q-dialog>\n  </div>\n</template>\n\n<script>\n  import moment from 'moment'\n  import XLSX from 'xlsx'\n  import IsiLaporan from './IsiLaporan.vue'\n  import EditLaporan from './EditLaporan.vue'\n\n  export default {\n    components: {\n      IsiLaporan,\n      EditLaporan\n    },\n    data() {\n      return {\n        lihatLaporan: false,\n        filter: '',\n        editLaporan: false,\n        selected: [],\n        data: [],\n        columns: [\n          {\n            name: 'status',\n            label: 'Status',\n            align: 'center',\n            field: row => (row.status === 1 ? 'Menunggu Approval' : row.status === 2 ? 'Sedang di Review' : 'Laporan Diterima'),\n            sortable: true,\n          }, {\n            name: 'tahun',\n            label: 'Laporan Tahun',\n            align: 'center',\n            field: row => row.tahun_laporan,\n            sortable: true,\n          }, {\n            name: 'dikirim',\n            label: 'Tanggal Pengiriman',\n            align: 'center',\n            field: row => this.getDate(row.created_at),\n            sortable: true,\n          }, {\n            name: 'file',\n            label: 'File',\n            align: 'center',\n            field: row => row.original_name,\n            sortable: true,\n          }\n        ],\n      }\n    },\n    methods: {\n      getDate(date) {\n        moment.lang('id')\n        return moment(date)\n          .format('dddd, Do MMMM YYYY')\n      },\n      getData() {\n        this.$http.get('/api/getlaporanterkirimkoperasi', {\n          headers: this.$auth.getHeader()\n        })\n          .then((res) => {\n            this.data = res.data.datatable\n            this.$q.loading.hide()\n          })\n          .catch(() => {\n            this.$q.notify({\n              type: 'negative',\n              message: `Terjadi kesalahan refresh (F5)`\n            })\n            this.$q.loading.hide()\n          })\n      }\n    },\n    created() {\n      this.$q.loading.show()\n      this.getData()\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LaporanTerkirim.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LaporanTerkirim.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LaporanTerkirim.vue?vue&type=template&id=7edfccf3&scoped=true&\"\nimport script from \"./LaporanTerkirim.vue?vue&type=script&lang=js&\"\nexport * from \"./LaporanTerkirim.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7edfccf3\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IsiLaporan.vue?vue&type=style&index=0&id=0376aa34&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IsiLaporan.vue?vue&type=style&index=0&id=0376aa34&scoped=true&lang=css&\"","<template>\n  <div>\n    <q-card>\n      <q-card-section>\n        <div class=\"text-h6\">Edit Pengiriman Laporan</div>\n      </q-card-section>\n      <q-separator/>\n      <q-card-section>\n        <q-file filled bottom-slots type=\"file\" v-model=\"model\" label=\"Pilih File Excel\" counter\n                @input=\"changeFile\">\n          <template v-slot:prepend>\n            <q-icon name=\"cloud_upload\" @click.stop/>\n          </template>\n          <template v-slot:append>\n            <q-icon name=\"close\" @click.stop=\"model = null\" class=\"cursor-pointer\"/>\n          </template>\n          <template v-slot:hint>\n            File Excel\n          </template>\n        </q-file>\n        <br>\n        <q-select outlined v-model=\"tahunKirim\" :options=\"options\" :dense=\"true\" label=\"Tahun\"\n                  :options-dense=\"false\">\n          <template v-slot:prepend>\n            <q-icon name=\"event\"/>\n          </template>\n        </q-select>\n        <br>\n        <div class=\"row\">\n          <q-btn color=\"red\" label=\"close\" v-close-popup/>\n          <q-btn color=\"primary\" icon-right=\"send\" label=\"Simpan\" @click=\"simpan\"/>\n        </div>\n      </q-card-section>\n      <q-separator/>\n      <q-card-section>\n        <div class=\"desc\" v-for=\"htm in nn\" :key=\"htm\">\n          <div v-html=\"htm\"></div>\n        </div>\n      </q-card-section>\n      <q-separator/>\n      <q-card-section>\n\n      </q-card-section>\n    </q-card>\n  </div>\n</template>\n\n<script>\n  import XLSX from 'xlsx'\n\n  export default {\n    props: ['ss'],\n    data() {\n      return {\n        nn: [],\n        tahunKirim: this.ss.tahun_laporan,\n        model: null,\n        options: [],\n        excel: null\n      }\n    },\n    methods: {\n      simpan() {\n        this.$q.loading.show()\n        this.$http.put(`/api/simpaneditlaporan/${this.ss[0].id}`, this.useFormData(), {\n          headers: this.$auth.getHeader()\n        })\n          .then((res) => {\n            this.$q.notify({\n              type: 'positive',\n              message: 'Edit Laporan Berhasil Dilakukan'\n            })\n            this.$emit('getData')\n          })\n          .catch(() => {\n            this.$q.notify({\n              type: 'negative',\n              message: `Terjadi kesalahan refresh (F5)`\n            })\n            this.$q.loading.hide()\n          })\n      },\n      useFormData() {\n        const formData = new FormData();\n        if (this.excel) formData.append('files', this.excel);\n        formData.append('tahun', this.tahunKirim);\n        return formData;\n      },\n      changeFile(e) {\n        this.excel = e\n        if (e.type !== 'application/vnd.ms-excel') {\n          this.$q.notify({\n            type: 'negative',\n            message: `File Harus dengan Format xls / xlsx`\n          })\n          this.model = null\n          return;\n        }\n        const reader = new FileReader();\n        reader.readAsArrayBuffer(e)\n        reader.onload = (e) => {\n          const table = Buffer.from(e.target.result)\n            .toString(\"base64\")\n          const wb = XLSX.read(table, { type: 'base64' });\n          this.nn = []\n          for (let i = 0; i < wb.SheetNames.length; i++) {\n            const ws = wb.Sheets[wb.SheetNames[i]];\n            this.nn.push(XLSX.utils.sheet_to_html(ws, {}))\n          }\n        }\n      },\n      showLaporan() {\n        this.$q.loading.show()\n        this.$http.get(`/api/getlaporanterkirim/${this.ss[0].id}`, {\n          headers: this.$auth.getHeader()\n        })\n          .then((res) => {\n            const { data } = res\n            const wb = XLSX.read(data.file, { type: 'base64' });\n            this.nn = []\n            for (let i = 0; i < wb.SheetNames.length; i++) {\n              const ws = wb.Sheets[wb.SheetNames[i]];\n              this.nn.push(XLSX.utils.sheet_to_html(ws, {}))\n            }\n            this.$q.loading.hide()\n          })\n          .catch(() => {\n            this.$q.notify({\n              type: 'negative',\n              message: `Terjadi kesalahan refresh (F5)`\n            })\n            this.$q.loading.hide()\n          })\n      },\n      getOptions() {\n        const date = new Date()\n        const year = date.getFullYear() - 10;\n        let t = year\n        this.options = []\n        while (t < year + 20) {\n          this.options.push(t)\n          t++\n        }\n        this.tahunKirim = this.ss[0].tahun_laporan\n      }\n    },\n    created() {\n      this.getOptions()\n      this.showLaporan()\n    }\n  }\n</script>\n\n<style scoped>\n  .desc >>> table {\n    width: 100%;\n    border-collapse: collapse;\n    color: #211b19;\n  }\n\n  /* Zebra striping */\n  .desc >>> tr:nth-of-type(odd) {\n    background: #eee;\n  }\n\n  .desc >>> th {\n    background: #333;\n    color: white;\n    font-weight: bold;\n  }\n\n  .desc >>> td, .desc >>> th {\n    padding: 6px;\n    border: 1px solid #ccc;\n    text-align: left;\n  }\n</style>\n"],"sourceRoot":""}