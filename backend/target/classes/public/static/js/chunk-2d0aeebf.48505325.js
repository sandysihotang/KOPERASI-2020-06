(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0aeebf"],{"0bb9":function(a,e,t){"use strict";t.r(e);var n=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"q-pa-md"},[t("q-table",{attrs:{dense:a.$q.screen.lt.md,title:"Daftar Produk",data:a.data,columns:a.columns,filter:a.filter},scopedSlots:a._u([{key:"top-right",fn:function(){return[t("div",{staticClass:"row"},[t("div",{staticClass:"col"},[t("q-btn",{attrs:{size:"xs",color:"green",label:"Pemasukan Barang",icon:"table"},on:{click:function(e){a.formpenambahanproduk=!0}}})],1),t("div",{staticClass:"col"},[t("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:a._u([{key:"append",fn:function(){return[t("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:a.filter,callback:function(e){a.filter=e},expression:"filter"}})],1)])]},proxy:!0}])}),t("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale","full-width":a.bg,"full-height":a.bg},model:{value:a.formpenambahanproduk,callback:function(e){a.formpenambahanproduk=e},expression:"formpenambahanproduk"}},[t("form-penambahan-produk",{on:{change:a.changeBG}})],1)],1)},l=[],o=(t("99af"),t("e25e"),function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"q-pa-md"},[t("q-card",{staticClass:"full-height full-width"},[a.vendor?t("div",[t("q-card-section",[t("q-table",{attrs:{dense:a.$q.screen.lt.md,title:"Daftar Produk",data:a.data,columns:a.columns,"row-key":"id",selection:"single",selected:a.selected},on:{"update:selected":function(e){a.selected=e}},scopedSlots:a._u([{key:"top-right",fn:function(){return[t("q-btn",{attrs:{size:"xs",color:"green",label:"Export",disable:0===a.data.length,icon:"fa fa-download"},on:{click:a.download}}),a._v(" "),t("q-btn",{attrs:{size:"xs",color:"green",label:"Ubah produk",disable:0===a.selected.length,icon:"update"},on:{click:a.update}}),a._v(" "),t("q-btn",{attrs:{size:"xs",color:"green",label:"Hapus Produk",disable:0===a.selected.length,icon:"fa fa-minus"},on:{click:a.deleteProduk}}),a._v(" "),t("q-btn",{attrs:{size:"xs",color:"green",label:"Tambah Barang",icon:"fa fa-plus"},on:{click:function(e){a.p=!0}}}),a._v(" "),t("q-btn",{attrs:{size:"xs",color:"green",label:"Tambah Kategori",icon:"table"},on:{click:function(e){a.kat=!0}}})]},proxy:!0}])})],1),t("q-card-section",[t("div",{staticClass:"q-pa-md"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-4"}),t("div",{staticClass:"col-md-4 offset-md-4"},[t("q-card",[t("q-card-section",{staticClass:"bg-primary text-white text-h6"},[a._v(" Total: "+a._s(a.toIDR(parseInt(a.total)))+" ")])],1)],1)]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-4"}),t("div",{staticClass:"col-md-4 offset-md-4"},[t("q-card",[t("q-card-section",[t("center",[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"red"}}),a._v(" "),t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Simpan",color:"primary",disable:0===a.data.length},on:{click:a.simpan}})],1)],1)],1)],1)])])])],1):t("div",[t("q-card-section",[a._v("Data Vendor")]),t("q-separator"),t("q-card-section",[t("q-input",{attrs:{square:"",clearable:"",filled:"",label:"Nama Vendor"},model:{value:a.namaVendor,callback:function(e){a.namaVendor=e},expression:"namaVendor"}}),t("br"),t("q-input",{attrs:{square:"",clearable:"",filled:"",label:"No Telepon Vendor"},model:{value:a.noTelepon,callback:function(e){a.noTelepon=e},expression:"noTelepon"}}),t("br"),t("q-input",{attrs:{square:"",clearable:"",filled:"",label:"Alamat Vendor"},model:{value:a.alamat,callback:function(e){a.alamat=e},expression:"alamat"}})],1),t("q-separator"),t("q-card-section",[t("center",[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"red",label:"tutup"}}),a._v(" "),t("q-btn",{attrs:{color:"primary",label:"Simpan Vendor"},on:{click:a.simpanVendor}})],1)],1)],1),t("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:a.p,callback:function(e){a.p=e},expression:"p"}},[!1===a.barcode?t("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[t("q-card-section",[a._v(" Form Penambahan Barang ")]),t("q-card-section",[t("q-form",{on:{submit:function(e){return e.preventDefault(),a.getProduk(e)}}},[t("q-input",{attrs:{square:"",clearable:"",filled:"",label:"BarCode"},model:{value:a.kodeProduk,callback:function(e){a.kodeProduk=e},expression:"kodeProduk"}}),t("br"),t("center",[t("q-btn",{attrs:{label:"Cari Barang",type:"submit",color:"primary"}})],1)],1)],1)],1):t("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[a.produkExist?t("div",[t("q-card-section",[a._v(" Nama Produk: "+a._s(a.restProduk.namaProduk)+" ")]),t("q-separator"),t("q-card-section",[t("q-form",{on:{submit:function(e){return e.preventDefault(),a.tambahProduk(e)}}},[t("q-input",{attrs:{square:"",clearable:"",filled:"",label:"Harga Beli"},model:{value:a.hargaBeli,callback:function(e){a.hargaBeli=e},expression:"hargaBeli"}}),t("br"),t("q-input",{attrs:{square:"",clearable:"",filled:"",label:"Harga Jual Anggota"},model:{value:a.hargaJualAnggota,callback:function(e){a.hargaJualAnggota=e},expression:"hargaJualAnggota"}}),t("br"),t("q-input",{attrs:{square:"",clearable:"",filled:"",label:"Harga Jual Non Anggota"},model:{value:a.hargaJualNonAnggota,callback:function(e){a.hargaJualNonAnggota=e},expression:"hargaJualNonAnggota"}}),t("br"),t("q-input",{attrs:{square:"",clearable:"",filled:"",label:"Jumlah Barang Masuk"},model:{value:a.jumlahBarang,callback:function(e){a.jumlahBarang=e},expression:"jumlahBarang"}}),t("br"),t("br"),t("center",[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"red"},on:{click:function(e){a.barcode=!0}}}),a._v(" "),t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Simpan",color:"primary",type:"submit"}})],1)],1)],1)],1):t("div",[t("q-card-section",[a._v(" Produk Baru ")]),t("q-separator"),t("q-card-section",[t("q-form",{on:{submit:function(e){return e.preventDefault(),a.simpanProdukBaru(e)}}},[t("q-input",{attrs:{square:"",clearable:"",filled:"",label:"Nama Barang"},model:{value:a.namaProduk,callback:function(e){a.namaProduk=e},expression:"namaProduk"}}),t("br"),t("q-select",{attrs:{label:"Kategori",filled:"",options:a.options,"stack-label":""},model:{value:a.model,callback:function(e){a.model=e},expression:"model"}}),t("br"),t("q-input",{attrs:{square:"",clearable:"",filled:"",label:"Harga Beli"},model:{value:a.hargaBeli,callback:function(e){a.hargaBeli=e},expression:"hargaBeli"}}),t("br"),t("q-input",{attrs:{square:"",clearable:"",filled:"",label:"Harga Jual Anggota"},model:{value:a.hargaJualAnggota,callback:function(e){a.hargaJualAnggota=e},expression:"hargaJualAnggota"}}),t("br"),t("q-input",{attrs:{square:"",clearable:"",filled:"",label:"Harga Jual Non Anggota"},model:{value:a.hargaJualNonAnggota,callback:function(e){a.hargaJualNonAnggota=e},expression:"hargaJualNonAnggota"}}),t("br"),t("q-input",{attrs:{square:"",clearable:"",filled:"",label:"Jumlah Barang Masuk"},model:{value:a.jumlahBarang,callback:function(e){a.jumlahBarang=e},expression:"jumlahBarang"}}),t("br"),t("center",[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"red"},on:{click:function(e){a.barcode=!0}}}),a._v(" "),t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Simpan",color:"primary",type:"submit"}})],1)],1)],1)],1)])],1),t("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:a.ubah,callback:function(e){a.ubah=e},expression:"ubah"}},[t("q-card",{staticStyle:{width:"700px","max-width":"80vw"}},[t("q-card-section",[a._v(" Ubah ")]),t("q-separator"),t("q-card-section",[t("q-form",{on:{submit:function(e){return e.preventDefault(),a.ubahProduk(e)}}},[t("q-input",{attrs:{square:"",clearable:"",filled:"",label:"Harga Beli"},model:{value:a.hargaBeli,callback:function(e){a.hargaBeli=e},expression:"hargaBeli"}}),t("br"),t("q-input",{attrs:{square:"",clearable:"",filled:"",label:"Jumlah Barang Masuk"},model:{value:a.jumlahBarang,callback:function(e){a.jumlahBarang=e},expression:"jumlahBarang"}}),t("br"),t("br"),t("center",[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"red"}}),a._v(" "),t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Simpan",color:"primary",type:"submit"}})],1)],1)],1)],1)],1),t("q-dialog",{attrs:{persistent:"","transition-show":"scale","transition-hide":"scale"},model:{value:a.kat,callback:function(e){a.kat=e},expression:"kat"}},[t("q-card",[t("q-card-section",[a._v(" Kategori Baru ")]),t("q-card-section",[t("q-form",{on:{submit:function(e){return e.preventDefault(),a.saveKategori(e)}}},[t("q-input",{attrs:{square:"",clearable:"",filled:"",label:"Kategori"},model:{value:a.kategoriProd,callback:function(e){a.kategoriProd=e},expression:"kategoriProd"}}),t("br"),t("center",[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"red"}}),a._v(" "),t("q-btn",{attrs:{label:"Simpan",color:"primary",type:"submit"}})],1)],1)],1)],1)],1)],1)],1)}),r=[],i=(t("d3b7"),t("3ca3"),t("ddb0"),t("2b3d"),{data:function(){var a=this;return{total:0,selected:[],ubah:!1,namaProduk:null,hargaBeli:null,hargaJualAnggota:null,hargaJualNonAnggota:null,jumlahBarang:null,kategoriProd:null,kat:!1,kodeProduk:null,p:!1,namaVendor:null,noTelepon:null,alamat:null,vendor:!1,id:null,bg:!1,data:[],columns:[{name:"barcode",label:"Kode Barang",align:"center",field:function(a){return a.produk.kodeProduk},sortable:!0},{name:"nama",label:"Nama Barang",align:"center",field:function(a){return a.produk.namaProduk},sortable:!0},{name:"kategori",label:"Kategori Barang",align:"center",field:function(a){return a.produk.kategoriProduk.namaKategori},sortable:!0},{name:"hargabeli",label:"Harga Beli",align:"center",field:function(e){return a.toIDR(parseInt(e.hargaBeli))},sortable:!0},{name:"jumlahbarang",label:"Jumlah Barang",align:"center",field:function(a){return a.jumlahProduk},sortable:!0},{name:"subtotal",label:"Sub total",align:"center",field:function(e){return a.toIDR(parseInt(e.jumlahProduk*e.hargaBeli))},sortable:!0}],produkExist:!1,barcode:!1,restProduk:[],model:"",options:[]}},methods:{simpan:function(){var a=this;this.$q.loading.show(),this.$http.post("/api/simpan/produk/".concat(this.id),{},{headers:this.$auth.getHeader()}).then((function(){a.$q.notify({type:"positive",message:"Berhasil Menyimpan Barang"}),a.$q.loading.hide()})).catch((function(){a.$q.loading.hide()}))},downloadFile:function(a,e){var t=new Blob([a.data],{type:"application/excel"});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(t);else{var n=window.URL.createObjectURL(t),l=document.createElement("a");l.href=n,l.download="".concat(e,".xlsx"),l.click(),setTimeout((function(){window.URL.revokeObjectURL(n)}),100),this.$swal({position:"center",type:"success",width:300,title:"Berhasil Mengexport Data",showConfirmButton:!1,timer:1500})}},download:function(){var a=this;this.$http.get("/api/download/".concat(this.id),{headers:this.$auth.getHeader(),responseType:"arraybuffer"}).then((function(e){a.downloadFile(e,"pemasukanbarang")}))},getData:function(){var a=this;this.$http.get("/api/getprodukbaruvendor/".concat(this.id),{headers:this.$auth.getHeader()}).then((function(e){a.data=e.data;for(var t=0;t<a.data.length;t++)a.total+=a.data[t].jumlahProduk*a.data[t].hargaBeli;a.$q.loading.hide()})).catch((function(){a.$q.loading.hide()}))},saveKategori:function(){var a=this;null!==this.kategoriProd?(this.$q.loading.show(),this.$http.post("/api/savekategori",{kategori:this.kategoriProd},{headers:this.$auth.getHeader()}).then((function(e){a.kategoriProd=null,a.getOptions(),a.$q.notify({type:"positive",message:"Berhasil menyimpan kategori"}),a.$q.loading.hide()})).catch((function(){a.$q.loading.hide()}))):this.$q.notify({type:"negative",message:"Isi Semua field"})},ubahProduk:function(){var a=this;this.$q.loading.show(),this.$http.post("/api/ubahproduk/".concat(this.selected[0].id),{hargaBeli:this.hargaBeli,jumlahBarang:this.jumlahBarang},{headers:this.$auth.getHeader()}).then((function(){a.getData(),a.$q.notify({type:"positive",message:"Berhasil mengubah data"}),a.$q.loading.hide()})).catch((function(){a.$q.loading.hide()}))},deleteProduk:function(){var a=this;this.$q.loading.show(),this.$http.delete("/api/deleteproduk/".concat(this.selected[0].id),{headers:this.$auth.getHeader()}).then((function(){a.getData(),a.$q.notify({type:"positive",message:"Berhasil menghapus data"}),a.$q.loading.hide()})).catch((function(){a.$q.loading.hide()}))},update:function(){var a=this.selected[0];this.hargaBeli=a.hargaBeli,this.jumlahBarang=a.jumlahProduk,this.ubah=!0},tambahProduk:function(){var a=this;null!==this.hargaBeli&&null!==this.hargaJualAnggota&&null!==this.hargaJualNonAnggota&&null!==this.jumlahBarang?(this.$q.loading.show(),this.$http.post("/api/saveproduktambah/".concat(this.id,"/").concat(this.restProduk.id),{hargaBeli:this.hargaBeli,hargaJualAnggota:this.hargaJualAnggota,hargaJualNonAnggota:this.hargaJualNonAnggota,jumlahBarang:this.jumlahBarang},{headers:this.$auth.getHeader()}).then((function(e){a.hargaBeli=null,a.hargaJualAnggota=null,a.hargaJualNonAnggota=null,a.jumlahBarang=null,a.barcode=!1,a.getData()})).catch((function(){a.$q.loading.hide()}))):this.$q.notify({type:"negative",message:"Isi Semua field"})},simpanProdukBaru:function(){var a=this;null!==this.namaProduk&&null!==this.hargaBeli&&null!==this.hargaJualAnggota&&null!==this.hargaJualNonAnggota&&null!==this.jumlahBarang&&null!==this.model?(this.$q.loading.show(),this.$http.post("/api/saveprodukbaru/".concat(this.id),{namaProduk:this.namaProduk,hargaBeli:this.hargaBeli,hargaJualAnggota:this.hargaJualAnggota,hargaJualNonAnggota:this.hargaJualNonAnggota,kategoriProduk:this.model.value,barCode:this.kodeProduk,jumlahBarang:this.jumlahBarang},{headers:this.$auth.getHeader()}).then((function(e){a.namaProduk=null,a.hargaBeli=null,a.hargaJualAnggota=null,a.hargaJualNonAnggota=null,a.model=null,a.kodeProduk=null,a.jumlahBarang=null,a.barcode=!1,a.getData()})).catch((function(){a.$q.loading.hide()}))):this.$q.notify({type:"negative",message:"Isi Semua field"})},getProduk:function(){var a=this;null!==this.kodeProduk?(this.$q.loading.show(),this.$http.get("/api/getproduk/".concat(this.kodeProduk),{headers:this.$auth.getHeader()}).then((function(e){var t=e.data;a.produkExist=t.exist,!0===t.exist&&(a.restProduk=t.data),a.barcode=!0,a.$q.loading.hide()})).catch((function(){a.$q.loading.hide()}))):this.$q.notify({type:"negative",message:"Isi Semua field"})},simpanVendor:function(){var a=this;null!==this.namaVendor&&null!==this.alamat&&null!==this.noTelepon?(this.$q.loading.show(),this.$http.post("/api/simpanvendor",{name:this.namaVendor,alamat:this.alamat,telepon:this.noTelepon},{headers:this.$auth.getHeader()}).then((function(e){a.vendor=!0,a.id=e.data.id,a.$emit("change"),a.$q.loading.hide()})).catch((function(){a.$q.loading.hide(),a.$q.notify({type:"negative",message:"Terjadi kesalahan, Refresh (F5)"})}))):this.$q.notify({type:"negative",message:"Isi Semua field"})},getOptions:function(){var a=this;this.$http.get("/api/getoptions",{headers:this.$auth.getHeader()}).then((function(e){var t=e.data;a.options=[];for(var n=0;n<t.length;n++)a.options.push({label:t[n].nama_kategori,value:t[n].id});a.$q.loading.hide()})).catch((function(){a.$q.loading.hide()}))},toIDR:function(a){for(var e="".concat(a),t="",n=0,l=e.length-1;l>=0;l--)t="".concat(t).concat(e[l]),2===n&&0!==l?(t="".concat(t,","),n=0):n++;for(var o="Rp ",r=t.length-1;r>=0;r--)o="".concat(o).concat(t[r]);return o}},created:function(){this.$q.loading.show(),this.getOptions()}}),s=i,u=t("2877"),c=Object(u["a"])(s,o,r,!1,null,"e69f7122",null),d=c.exports,h={components:{FormPenambahanProduk:d},data:function(){var a=this;return{bg:!1,filter:"",data:[],columns:[{name:"namabarang",label:"Nama Barang",align:"center",field:function(a){return a.nama_produk},sortable:!0},{name:"kodebarang",label:"Kode barang",align:"center",field:function(a){return a.kode_produk},sortable:!0},{name:"kategoribarang",label:"Kategori Barang",align:"center",field:function(a){return a.nama_kategori},sortable:!0},{name:"hargabeli",label:"Harga Beli",align:"center",field:function(e){return a.toIDR(parseInt(e.harga_beli))},sortable:!0},{name:"hargajualanggota",label:"Harga Jual Anggota",align:"center",field:function(e){return a.toIDR(parseInt(e.harga_jual_anggota))},sortable:!0},{name:"hargajualnonanggota",label:"Harga Jual Non Anggota",align:"center",field:function(e){return a.toIDR(parseInt(e.harga_jual_non_anggota))},sortable:!0},{name:"jumlahbarang",label:"Jumlah Barang",align:"center",field:function(a){return a.jumlah_produk},sortable:!0}],formpenambahanproduk:!1}},methods:{changeBG:function(){this.bg=!0},getData:function(){var a=this;this.$http.get("/api/getdataproduk",{headers:this.$auth.getHeader()}).then((function(e){a.data=e.data,a.$q.loading.hide()})).catch((function(){a.$q.loading.hide()}))},toIDR:function(a){for(var e="".concat(a),t="",n=0,l=e.length-1;l>=0;l--)t="".concat(t).concat(e[l]),2===n&&0!==l?(t="".concat(t,","),n=0):n++;for(var o="Rp ",r=t.length-1;r>=0;r--)o="".concat(o).concat(t[r]);return o}},created:function(){this.$q.loading.show(),this.getData()}},g=h,p=Object(u["a"])(g,n,l,!1,null,"02248342",null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d0aeebf.48505325.js.map